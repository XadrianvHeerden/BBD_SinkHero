<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Host</title>
<<<<<<< HEAD
    <link rel="stylesheet" href="css/player.css">
=======
>>>>>>> 8780c10 (added files)
    <script src="/socket.io/socket.io.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const socket = io();

<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
            socket.emit("hostConnected", {});
=======
>>>>>>> 8780c10 (added files)
=======
            let socketId = null;

            socket.on("checkHost", (data) => {
                socket.emit("hostConnected", {socketId: data.socketId});
            });


>>>>>>> 694a92a (rebase)
=======
            socket.emit("hostConnected", {});
>>>>>>> 532e2c7 (simple position updates between back and front)
            document.getElementById('listGamesButton').addEventListener('click', () => {
                fetch('/games')
                    .then(response => response.json())
                    .then(data => {
                        const gamesList = document.getElementById('gamesList');
                        gamesList.innerHTML = '';
                        data.forEach(game => {
                            const gameItem = document.createElement('div');
                            gameItem.innerHTML = `
                                <h3>Game ${game.gameId}</h3>
                                <p>Players: ${game.players.map(player => `${player.name} (${player.points} points)`).join(', ')}</p>
                                <p>Current Round: ${game.currentRound}</p>
                            `;
                            gamesList.appendChild(gameItem);
                        });
                    });
            });
<<<<<<< HEAD
<<<<<<< HEAD

            let previous_positions = {};
            let canvas = document.getElementById("maze");
            let ctx = canvas.getContext("2d");

            socket.on("playerPositionChangedHost", (data) => {
                let previous_position = previous_positions[data.playerId];

                if (previous_position)
                    ctx.clearRect(previous_position.x - 11, previous_position.y - 11, 22, 22);
=======

            socket.on("playerPositionChangedHost", (data) => {
                let canvas = document.getElementById("maze");
                let ctx = canvas.getContext("2d");
>>>>>>> 694a92a (rebase)

                ctx.beginPath();
                ctx.arc(data.x, data.y, 10, 0, 2 * Math.PI);
                ctx.fillStyle = data.colour;
                ctx.fill();
<<<<<<< HEAD

                previous_positions[data.playerId] = { x: data.x, y: data.y };
            });
=======
>>>>>>> 8780c10 (added files)
=======
            });
>>>>>>> 694a92a (rebase)
        });
    </script>
</head>
<body>
<<<<<<< HEAD
<<<<<<< HEAD
    <canvas id="maze" style="border: 1px solid black" width="500" height="500"></canvas>

=======
>>>>>>> 8780c10 (added files)
=======
    <canvas id="maze" style="border: 1px solid black" width="500" height="500"></canvas>

>>>>>>> 694a92a (rebase)
    <h1>Multiplayer Host</h1>
    <div id="hostSection">
        <button id="listGamesButton">List Games</button>
        <div id="gamesList"></div>
    </div>
</body>
</html>
